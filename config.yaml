# Beach Conditions Agent Configuration

# Camera settings
camera:
  stream_url: "LIVE 24/7 4K MAUI LIVE CAM WhalerCondo.net"  # YouTube search query for Kaanapali Beach livestream
  capture_interval: 30  # seconds between captures
  max_retries: 3
  timeout: 10

# Model paths and settings
models:
  yolo_path: "models/yolo_people.pt"
  roi_detector_path: "models/roi_detector.pt"
  yolo_confidence: 0.5
  yolo_iou: 0.45

# Weights & Biases configuration
wandb:
  project: "beach-detection"
  name: "yolo-beach-training"
  enabled: true

# ROI detection settings
roi:
  water_color_ranges:
    - [[100, 50, 50], [130, 255, 255]]  # Blue water HSV ranges
  beach_color_ranges:
    - [[10, 50, 50], [30, 255, 255]]    # Sandy beach HSV ranges
  min_area: 1000  # minimum area for ROI detection

# Segmentation model settings
segmentation:
  # Beach area polygon mask for Kaanapali Beach
  mask_polygon: [[2, 693], [1655, 380], [1861, 485], [1850, 617], [1819, 614], [1790, 628], [1794, 644], [1782, 655], [1757, 673], [1753, 681], [1783, 693], [1642, 749], [1621, 723], [1444, 777], [1206, 823], [1169, 820], [904, 868], [804, 907], [745, 937], [676, 943], [621, 960], [595, 954], [580, 967], [551, 968], [472, 972], [249, 1012], [214, 1021], [159, 1023], [49, 1050], [4, 1073]]
  
  # Class mapping from segmentation model
  class_mapping:
    0: 'background'
    1: 'base-background-layer-segmentation'
    2: 'beach'
    3: 'water'

# Agent settings
agent:
  model: "gpt-3.5-turbo"
  temperature: 0.7
  max_tokens: 500
  system_prompt: |
    You are a beach conditions assistant for Kāʻanapali Beach in Maui, Hawaii. 
    Analyze current beach conditions and provide helpful recommendations to visitors.
    Be friendly, informative, and consider safety factors like crowding and weather.
    You can also provide links/paths to the latest images:
    - Original snapshot (raw frame)
    - Annotated detection image (bounding boxes)
    - Regions image (people classified as on beach vs in water)

# API settings
api:
  host: "0.0.0.0"
  port: 8000
  reload: true

# UI settings
ui:
  title: "Kāʻanapali Beach Conditions"
  theme: "beach"
  auto_refresh: 30  # seconds

# Data paths
paths:
  snapshots: "data/snapshots"
  training_samples: "data/training_samples"
  roi_zones: "data/roi_zones.json"
  models: "models"

# Training output paths (for external volume storage)
training_outputs:
  base_path: "/media/volume/yolo-training-data"  # Jetstream2 volume path
  models_dir: "models"
  runs_dir: "runs" 
  wandb_dir: "wandb"

# Logging
logging:
  level: "INFO"
  format: "%(asctime)s - %(name)s - %(levelname)s - %(message)s"
  file: "beach_agent.log"
